Web应用架构是非常重要的，原因如下：Web应用的质量很大程度上受制于底层架构，而架构受制于系统的功能需求、质量需求、开发团队经验和开发技术。架构不完整或缺少了某些方面，使得Web应用的一些质量需求很难满足，甚至无法满足。Web应用的架构不合适经常会导致性能可维护性和可扩展性差以及可用性低等问题。

本项目采用了两层的B/S架构模式：Browser/Server结构是Web兴起后的一种网络结构模式，用户不再依赖于单一的通过下载客户应用软件来访问信息。

WeBlog项目的两层的B/S架构分为两个部分：

![](https://ws1.sinaimg.cn/large/ea577d5dly1fsf8n0fo3jj20r40lkmym.jpg)

1. 客户层：即客户访问WeBlog网站所使用的浏览器，主要负责解析服务器返回的HTML页面、执行客户请求的操作、发送请求给服务器。
2. 服务器层：主要包括业务逻辑处理程序和数据库，负责对客户层浏览器发出的请求进行响应、存储数据、读取数据、动态生成HTML页面。

WeBlog项目使用Flask框架，其设计模式为MTV架构，其实质为MVC架构加上模板。MVC（模型——视图——控制器）是一种目前广泛流行的Web应用架构模式，是一种设计思想。无论选择哪种开发语言，使用哪种开发框架，无论Web应用有多么复杂，MVC都能为理解分析应用模型提供最基本的分析方法，为构造产品提供清晰的设计框架，为Web工程提供规范的依据。

而WeBlog项目使用Flask的MTV架构模式，很好地利用了其优点。WeBlog项目将数据和业务逻辑、控制以及页面展现分离。用户输入、外部世界的模型给用户的视觉反馈被模型、视图、控制器对象分离和处理。模型管理数据元素，响应状态查询和改变状态指令，是项目最主要的核心。控制器解释用户的浏览器请求，并将这些用户操作的指令发送给模型和视图来做出适当的改变。视图是用户看到并与之交互的界面。

下面介绍一下WeBlog的MTV架构的执行流程。

![](https://ws1.sinaimg.cn/large/ea577d5dly1fsf8n0561dj20v70dg40w.jpg)

1. 模型管理应用程序的状态（通常存储到数据库中），并约束改变状态的行为（或者叫做“业务规则”）。 
2. 控制器接受外部用户的操作，根据操作访问模型获取数据，并调用“视图”显示这些数据。控制器是将“模型”和“视图”隔离，并成为二者之间的联系纽带。
3. 视图负责把数据格式化后呈现给用户。 

WeBlog项目使用的Flask也是一个MVC框架，但是在Flask中，控制器接受用户输入的部分由框架自行处理，所以 Flask里更关注的是模型（Model）、模板（Template）和视图（Views），称为MTV模式。

1. M代表模型（Model），即数据存取层。该层处理与数据相关的所有事务：如何存取、如何验证有效性、包含哪些行为以及数据之间的关系等。
2. T代表模板（Template），即表现层。该层处理与表现相关的决定：如何在页面或其他类型文档中进行显示。
3. V代表视图（View），即业务逻辑层。该层包含存取模型及调取恰当模板的相关逻辑。可以把它看作模型与模板之间的桥梁。